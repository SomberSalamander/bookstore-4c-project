// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table Books {
  BookId integer [primary key]
  Title string
  Author string
  Publisher string
  Description string
  Price decimal
  Stock integer
  Img string
}

Table Users {
  UserId integer [primary key]
  Name string
  Email string [note: "unique"]
  PasswordHash string
}

Table Carts {
  CartId integer [primary key]
  UserId integer [note: "unique"]
  CreatedAt datetime
}

Table CartItems {
  CartItemId integer [primary key]
  CartId integer
  BookId integer
  Quantity integer
}

Ref: Carts.CartId < CartItems.CartId

Ref: Books.BookId < CartItems.BookId

Ref: Carts.UserId - Users.UserId